/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{374:function(ha,ca,h){h.r(ca);h.d(ca,"ByteRangeRequest",function(){return ka});var ba=h(3),z=h(0);h.n(z);var ea=h(1),da=h(119);ha=h(75);var aa=h(203),y=h(55),f=h(50),e=h(202),x=h(135);h=h(306);var r=[],w=[],n=window,fa=function(){return function(){this.Pk=1}}(),ia;(function(e){e[e.UNSENT=0]="UNSENT";e[e.DONE=4]="DONE"})(ia||(ia={}));var ka=function(){function f(f,h,r,w){var x=this;this.url=f;this.range=h;this.cf=r;this.withCredentials=
w;this.aW=ia;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);n.Uint8Array&&(this.request.responseType="arraybuffer");w&&(this.request.withCredentials=w);na.DISABLE_RANGE_HEADER||(Object(z.isUndefined)(h.stop)?this.request.setRequestHeader("Range","bytes="+h.start):this.request.setRequestHeader("Range",["bytes=",h.start,"-",h.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");r&&Object.keys(r).forEach(function(e){x.request.setRequestHeader(e,
r[e])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=e.a.NOT_STARTED}f.prototype.start=function(f){var h=this,r=this.request;r.onreadystatechange=function(){if(h.aborted)return h.status=e.a.ABORTED,f({code:e.a.ABORTED});if(this.readyState===h.aW.DONE){h.cz();var w=0===window.document.URL.indexOf("file:///");200===r.status||206===r.status||w&&0===r.status?(w=n.sO(this),
h.Gr(w,f)):(h.status=e.a.ERROR,f({code:h.status,status:h.status}))}};this.request.send(null);this.status=e.a.STARTED};f.prototype.Gr=function(f,h){this.status=e.a.SUCCESS;if(h)return h(!1,f)};f.prototype.abort=function(){this.cz();this.aborted=!0;this.request.abort()};f.prototype.cz=function(){var e=Object(x.c)(this.url,this.range,w);-1!==e&&w.splice(e,1);if(0<r.length){e=r.shift();var h=new f(e.url,e.range,this.cf,this.withCredentials);e.request=h;w.push(e);h.start(Object(x.d)(e))}};f.prototype.extend=
function(e){var f=Object.assign({},this,e.prototype);f.constructor=e;return f};return f}(),na=function(e){function h(f,h,n,r,w){n=e.call(this,f,n,r)||this;n.Rk={};n.Kx=h;n.url=f;n.DISABLE_RANGE_HEADER=!1;n.$u=ka;n.YI=3;n.cf=w||{};return n}Object(ba.c)(h,e);h.prototype.ct=function(e,h,n){var r=-1===e.indexOf("?")?"?":"&";switch(n){case !1:case f.a.NEVER_CACHE:e=e+r+"_="+Object(z.uniqueId)();break;case !0:case f.a.CACHE:e=e+r+"_="+h.start+","+(Object(z.isUndefined)(h.stop)?"":h.stop)}return e};h.prototype.IM=
function(e,f,h,n){void 0===h&&(h={});return new this.$u(e,f,h,n)};h.prototype.U0=function(e,f,h,n,x){for(var y=0;y<r.length;y++)if(Object(z.isEqual)(r[y].range,f)&&Object(z.isEqual)(r[y].url,e))return r[y].$f.push(n),r[y].$z++,null;for(y=0;y<w.length;y++)if(Object(z.isEqual)(w[y].range,f)&&Object(z.isEqual)(w[y].url,e))return w[y].$f.push(n),w[y].$z++,null;h={url:e,range:f,Kx:h,$f:[n],$z:1};if(0===r.length&&w.length<this.YI)return w.push(h),h.request=this.IM(e,f,x,this.withCredentials),h;r.push(h);
return null};h.prototype.jm=function(e,f,h){var n=this.ct(e,f,this.Kx);(e=this.U0(n,f,this.Kx,h,this.cf))&&e.request.start(Object(x.d)(e));return function(){var e=Object(x.c)(n,f,w);if(-1!==e){var h=--w[e].$z;0===h&&w[e].request&&w[e].request.abort()}else e=Object(x.c)(n,f,r),-1!==e&&(h=--r[e].$z,0===h&&r.splice(e,1))}};h.prototype.YN=function(){return{start:-da.a}};h.prototype.U3=function(){var e=-(da.a+da.e);return{start:e-da.d,end:e}};h.prototype.Tq=function(e){var f=this;this.Px=!0;var h=da.a;
this.jm(this.url,this.YN(),function(n,r,w){function x(){var h=f.Hd.VN();f.jm(f.url,h,function(n,r){if(n)return Object(ea.h)("Error loading central directory: "+n),e(n);r=Object(y.a)(r);if(r.length!==h.stop-h.start)return e("Invalid XOD file: Zip central directory data is wrong size! Should be "+(h.stop-h.start)+" but is "+r.length);f.Hd.kR(r);f.qD=!0;f.Px=!1;return e(!1)})}if(n)return Object(ea.h)("Error loading end header: "+n),e(n,r,w);r=Object(y.a)(r);if(r.length!==h)return e("Invalid XOD file: Zip end header data is wrong size!");
try{f.Hd=new aa.a(r)}catch(wa){return e(wa)}f.Hd.r5?f.jm(f.url,f.U3(),function(h,n){if(h)return Object(ea.h)("Error loading zip64 header: "+h),e(h);n=Object(y.a)(n);f.Hd.I5(n);x()}):x()})};h.prototype.pO=function(e){e(Object.keys(this.Hd.Rl))};h.prototype.YG=function(e,f){var h=this;if(this.Hd.AM(e)){var n=this.Hd.Vy(e);if(n in this.Rk){var r=this.Vg[e];r.Pp=this.Rk[n];r.Pp.Pk++;r.cancel=r.Pp.cancel}else{var w=this.Hd.o2(e),x=this.jm(this.url,w,function(r,x){r?(Object(ea.h)('Error loading part "'+
e+'": '+r),h.jm(h.url,w,function(r,x){if(r)return f(r,e);h.oR(x,w,n,e,f)})):h.oR(x,w,n,e,f)}),y=this.Vg[e];y&&(y.uT=!0,y.cancel=function(){y.Pp.Pk--;0===y.Pp.Pk&&(x(),delete h.Rk[n])},this.Rk[n]=new fa(n),y.Pp=this.Rk[n],y.Pp.cancel=y.cancel)}}else delete this.Vg[e],f(Error('File not found: "'+e+'"'),e)};h.prototype.oR=function(e,f,h,n,r){if(e.length!==f.stop-f.start)r(Error("Part data is wrong size!"),n);else{do{if(!this.Rk[h])return;n=this.Rk[h].Pk;for(var w=f.Ko.length,x=0;x<w;++x){var y=f.Ko[x];
r(!1,y.Eo,e["string"===typeof e?"substring":"subarray"](y.start,y.stop),this.Hd.sP(y.Eo));y.Eo in this.Vg&&delete this.Vg[y.Eo]}}while(n!==this.Rk[h].Pk);delete this.Rk[h]}};h.DISABLE_RANGE_HEADER=!1;h.YI=3;return h}(ha.a);(function(e){function f(f,h,n){var r=e.call(this)||this,w;for(w in f)r[w]=f[w];r.Yea=f;r.startOffset=h;r.endOffset=n;r.IM=function(e,h,n,w){Object(z.isUndefined)(h.stop)?(h.start+=r.endOffset,h.stop=r.endOffset):(h.start+=r.startOffset,h.stop+=r.startOffset);e=r.ct(r.url,h,r.Kx);
return new f.$u(e,h,n,w)};return r}Object(ba.c)(f,e);return f})(na);Object(h.a)(na);Object(h.b)(na);ca["default"]=na}}]);}).call(this || window)
